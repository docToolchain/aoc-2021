<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Aoc 2021: subesokun</title>
    <meta charset="UTF-8">
<meta name="google-site-verification" content="JZ7jk3duxzxHDLuOHKPxc-uoz0JPlSBLeaAxh3wGn9Q" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Just for fun">
    <meta name="author" content="Ralf D. MÃ¼ller">
    <meta name="keywords" content="aoc">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="../../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../css/asciidoctor.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/prettify.css" rel="stylesheet">
      <link href="../../../css/retro.css" rel="stylesheet">
      <style>
      @media only screen and (min-width:768px){
          #toctitle{font-size:1.375em}
          #toc.toc{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto; padding-top: 60px;}
          #toc.toc #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
          #toc.toc>ul{font-size:.9em;margin-bottom:0}
          #toc.toc ul ul{margin-left:0;padding-left:1em}
          #toc.toc ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
          body.toc2{ padding-left: 15.5em;padding-right:0; width: 100% !important;}
          body.toc2 div#wrap div.content {width: auto !important;}
          #toc.toc{width:15em; padding-top: 60px;}
      }
      @media only screen and (min-width:1280px){
          body.toc2{ padding-left: 20.5em;padding-right:0; width: 100% !important;}
          body.toc2 div#wrap div.content {width: auto !important;}
          #toc.toc{width:20em; padding-top: 60px;}
          #toc.toc #toctitle{font-size:1.375em}
          #toc.toc>ul{font-size:.95em}
          #toc.toc ul ul{padding-left:1.25em}
      }
      body {
          overflow-y: scroll;
      }
      html, body {
          font-size: 1.06rem;
      }
      body.toc2{ overflow-x: auto}
      #toc.toc ul {
          padding-inline-start: 0;
      }
      :target::before {
          content: "";
          display: block;
          height: 60px; /* fixed header height*/
          margin: -60px 0 0; /* negative fixed header height */
      }
      .navbar {
          background-image: url(/aoc-2021/images/treeback.png);
          background-size: contain;
          background-repeat: repeat-x;
          border-bottom: 0;
          padding-bottom: 20px;
          background-color: transparent;
          box-shadow: none;
      }
      html {
          background: url(/aoc-2021/images/snowback.png) no-repeat center center fixed;
          -webkit-background-size: cover;
          -moz-background-size: cover;
          -o-background-size: cover;
          background-size: cover;
      }

      </style>
      <script>
          //smart redirectg
          if (document.location.href.includes("netlify")) {
              document.location.href=document.location.href.replace("aoc-2021.netlify.app/","doctoolchain.org/aoc-2021/");
          }
      </script>
<!-- /aoc-2021/ -->

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->

      <link rel="apple-touch-icon" sizes="180x180" href="/aoc-2021//apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="/aoc-2021//favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="/aoc-2021//favicon-16x16.png">
      <link rel="manifest" href="/aoc-2021//site.webmanifest">
      <link rel="mask-icon" href="/aoc-2021//safari-pinned-tab.svg" color="#5bbad5">
      <meta name="msapplication-TileColor" content="#da532c">
      <meta name="theme-color" content="#ffffff">
  </head>

<body onload="prettyPrint()" class="toc2 toc-left" >
<div id="wrap">

	
	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../../">AoC-2021</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
              
                
                  <li><a href="../../../rules/">Rules</a></li>
                
              
                
                  <li><a href="../../../solutions/">Solutions</a></li>
                
              
                
                  <li><a href="../../../about/">About</a></li>
                
              
          </ul>
            <!-- tag::search[] -->
            <form class="navbar-form navbar-right" action="https://google.de/search" style="border: none;">
                <div class="form-group">
                    <input type="hidden" name="q" value="site:aoc-2021.netlify.com">
                    <input type="text" name="q" class="form-control" id="search">
                    <button type="submit" class="btn btn-default hidden-sm ">Find</button>
                </div>
            </form>
            <!-- end::search[] -->
        </div><!--/.nav-collapse -->
      </div>
    </div>

	<div class="container content">
	<p><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_subesokun">subesokun</a>
<ul class="sectlevel2">
<li><a href="#_this_years_motto">This year&#8217;s motto</a></li>
<li><a href="#_day_00_javascript">Day 00: javascript</a></li>
<li><a href="#_day_01_javascript">Day 01: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1">Part 1</a></li>
<li><a href="#_part_2">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_02_javascript">Day 02: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_2">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_2">Part 1</a></li>
<li><a href="#_part_2_2">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_03_javascript">Day 03: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_3">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_3">Part 1</a></li>
<li><a href="#_part_2_3">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_04_javascript">Day 04: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_4">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_4">Part 1</a></li>
<li><a href="#_part_2_4">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_05_javascript">Day 05: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_5">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_5">Part 1</a></li>
<li><a href="#_part_2_5">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_06_javascript">Day 06: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_6">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_6">Part 1</a></li>
<li><a href="#_part_2_6">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_07_javascript">Day 07: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_7">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_7">Part 1</a></li>
<li><a href="#_part_2_7">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_08_javascript">Day 08: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_8">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_8">Part 1</a></li>
<li><a href="#_part_2_8">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_09_javascript">Day 09: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_9">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_9">Part 1</a></li>
<li><a href="#_part_2_9">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_10_javascript">Day 10: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_10">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_10">Part 1</a></li>
<li><a href="#_part_2_10">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_11_javascript">Day 11: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_11">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_11">Part 1</a></li>
<li><a href="#_part_2_11">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_12_javascript">Day 12: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_12">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_12">Part 1</a></li>
<li><a href="#_part_2_12">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_13_javascript">Day 13: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_13">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_13">Part 1</a></li>
<li><a href="#_part_2_13">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_14_javascript">Day 14: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_14">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_14">Part 1</a></li>
<li><a href="#_part_2_14">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_15_javascript">Day 15: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_15">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_15">Part 1</a></li>
<li><a href="#_part_2_15">Part 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_day_16_javascript">Day 16: javascript</a>
<ul class="sectlevel3">
<li><a href="#_solution_16">Solution</a>
<ul class="sectlevel4">
<li><a href="#_part_1_16">Part 1</a></li>
<li><a href="#_part_2_16">Part 2</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_subesokun"><a class="anchor" href="#_subesokun"></a><a class="link" href="#_subesokun">subesokun</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="https://avatars.githubusercontent.com/u/6920421?v=4" alt="6920421?v=4" width="100px"></span></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>subesokun</strong><br>
Github: <a href="https://github.com/subesokun">subesokun</a>,</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_this_years_motto"><a class="anchor" href="#_this_years_motto"></a><a class="link" href="#_this_years_motto">This year&#8217;s motto</a></h3>
<div class="paragraph">
<p>I&#8217;ll keep it simple this year to fully enjoy solving the puzzles. In my case, this means vanilla JavaScript hacking fun with no guardrails ð</p>
</div>
<a id="day00" />
</div>
<div class="sect2">
<h3 id="_day_00_javascript"><a class="anchor" href="#_day_00_javascript"></a><a class="link" href="#_day_00_javascript">Day 00: javascript</a></h3>
<a id="day01" />
</div>
<div class="sect2">
<h3 id="_day_01_javascript"><a class="anchor" href="#_day_01_javascript"></a><a class="link" href="#_day_01_javascript">Day 01: javascript</a></h3>
<div class="sect3">
<h4 id="_solution"><a class="anchor" href="#_solution"></a><a class="link" href="#_solution">Solution</a></h4>
<div class="paragraph">
<p>Sonar Sweep</p>
</div>
<div class="sect4">
<h5 id="_part_1"><a class="anchor" href="#_part_1"></a><a class="link" href="#_part_1">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">function runSolutionPuzzleOne(input) {
    let lastDepth = Infinity
    let increaseCnt = 0
    for (const depth of input) {
        if (lastDepth &lt; depth) {
            increaseCnt++
        }
        lastDepth = depth
    }
    console.log(`Solution to first puzzle: ${increaseCnt}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2"><a class="anchor" href="#_part_2"></a><a class="link" href="#_part_2">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">function runSolutionPuzzleTwo(input) {
    let lastDepthSum = Infinity
    let increaseCnt = 0
    for (let i = 0; i + 2 &lt; input.length; i++) {
        const depthSum = input[i] + input[i + 1] + input[i + 2]
        if (lastDepthSum &lt; depthSum) {
            increaseCnt++
        }
        lastDepthSum = depthSum
    }
    console.log(`Solution to second puzzle: ${increaseCnt}`)
}</code></pre>
</div>
</div>
<a id="day02" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_02_javascript"><a class="anchor" href="#_day_02_javascript"></a><a class="link" href="#_day_02_javascript">Day 02: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_2"><a class="anchor" href="#_solution_2"></a><a class="link" href="#_solution_2">Solution</a></h4>
<div class="paragraph">
<p>Dive!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">function getCommands(input) {
    const regex = /(forward|down|up) (\d+)/
    const commandsList = []
    for (const command of input) {
        const match = regex.exec(command)
        commandsList.push({
            command: match[1],
            value: parseInt(match[2], 10)
        })
    }
    return commandsList
}

const input = fs.readFileSync('input.txt').toString().split("\n")
const commandsList = getCommands(input)</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_2"><a class="anchor" href="#_part_1_2"></a><a class="link" href="#_part_1_2">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">function runSolutionPuzzleOne(commandsList) {
    let horizontal = 0
    let depth = 0
    for (const { command, value }
        of commandsList) {
        if (command === 'forward') {
            horizontal += value
        } else if (command === 'down') {
            depth += value
        } else if (command === 'up') {
            depth -= value
        }
    }
    console.log(`Solution to first puzzle: ${horizontal * depth}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_2"><a class="anchor" href="#_part_2_2"></a><a class="link" href="#_part_2_2">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">function runSolutionPuzzleTwo(commandsList) {
    let horizontal = 0
    let depth = 0
    let aim = 0
    for (const { command, value }
        of commandsList) {
        if (command === 'forward') {
            horizontal += value
            depth += aim * value
        } else if (command === 'down') {
            aim += value
        } else if (command === 'up') {
            aim -= value
        }
    }
    console.log(`Solution to second puzzle: ${horizontal * depth}`)
}</code></pre>
</div>
</div>
<a id="day03" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_03_javascript"><a class="anchor" href="#_day_03_javascript"></a><a class="link" href="#_day_03_javascript">Day 03: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_3"><a class="anchor" href="#_solution_3"></a><a class="link" href="#_solution_3">Solution</a></h4>
<div class="paragraph">
<p>Binary Diagnostic</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">const rawInput = fs.readFileSync('input.txt').toString().split("\n")
const input = []
for (const line of rawInput) {
    input.push(line.split(''))
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_3"><a class="anchor" href="#_part_1_3"></a><a class="link" href="#_part_1_3">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Array&lt;string[]&gt;} input
 */
function runSolutionPuzzleOne(input) {
    const gammaCommonBitArray = new Array(input[0].length).fill(0)
    for (const line of input) {
        for (const [i, bitChar] of line.entries()) {
            if (bitChar === '0') {
                gammaCommonBitArray[i] -= 1
            } else {
                gammaCommonBitArray[i] += 1
            }
        }
    }
    const gammaBinStr = gammaCommonBitArray.reduce((binString, value) =&gt; value &lt; 0 ? binString + '0' : binString + '1', '')
    const epsilonBinStr = gammaCommonBitArray.reduce((binString, value) =&gt; value &lt; 0 ? binString + '1' : binString + '0', '')
    const gamma = parseInt(gammaBinStr, 2)
    const epsilon = parseInt(epsilonBinStr, 2)
    console.log(`Solution to first puzzle: ${gamma * epsilon}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_3"><a class="anchor" href="#_part_2_3"></a><a class="link" href="#_part_2_3">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">function getMostCommonValueForIndex(index, input) {
    let result = 0
    for (const line of input) {
        const bitChar = line[index]
        if (bitChar === '0') {
            result -= 1
        } else {
            result += 1
        }
    }
    return result &gt;= 0 ? '1' : '0'
}

function filterInputByIndexValue(input, index, value) {
    return input.filter(line =&gt; line[index] === value)
}

function calculateRating(input, filterForMostCommon) {
    let currentInput = JSON.parse(JSON.stringify(input)) // Clone 2d Array. Slow but... Â¯\_(ã)_/Â¯
    for (let i = 0; i &lt; input[0].length &amp;&amp; currentInput.length &gt; 1; i++) {
        let filterValue = getMostCommonValueForIndex(i, currentInput)
        if (!filterForMostCommon) {
            filterValue = filterValue === '1' ? '0' : '1'
        }
        currentInput = filterInputByIndexValue(currentInput, i, filterValue)
    }
    return parseInt(currentInput[0].join(''), 2)
}

function runSolutionPuzzleTwo(input) {
    const oxygen = calculateRating(input, true)
    const co2ScrubberRate = calculateRating(input, false)
    console.log(oxygen, co2ScrubberRate)
    console.log(`Solution to second puzzle: ${oxygen * co2ScrubberRate}`)
}</code></pre>
</div>
</div>
<a id="day04" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_04_javascript"><a class="anchor" href="#_day_04_javascript"></a><a class="link" href="#_day_04_javascript">Day 04: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_4"><a class="anchor" href="#_solution_4"></a><a class="link" href="#_solution_4">Solution</a></h4>
<div class="paragraph">
<p>Giant Squid</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">const rawInput = fs.readFileSync('input.txt').toString().split('\n\n')
const numberList = rawInput[0].split(',').map(v =&gt; parseInt(v, 10))
const boardList = []
for (const boardRawInput of rawInput.slice(1)) {
    const boardData = boardRawInput
        .split('\n')
        .map(rowRaw =&gt;
            rowRaw
            .replace(/\s+/g, ' ')
            .trim()
            .split(' ')
            .map(v =&gt; {
                return { value: parseInt(v, 10), marked: false }
            })
        )
    boardList.push(boardData)
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_4"><a class="anchor" href="#_part_1_4"></a><a class="link" href="#_part_1_4">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Array.&lt;Array.&lt;{value: number, marked: boolean}&gt;&gt;} board
 * @param {number} lastSetRowIndex
 * @param {number} lastSetColumnIndex
 * @returns boolean
 */
function checkIfBingo(board, lastSetRowIndex, lastSetColumnIndex) {
    const isRowCompleted = board[lastSetRowIndex]
        .map(boardEntry =&gt; boardEntry.marked)
        .reduce((previousValue, currentValue) =&gt; currentValue &amp;&amp; previousValue, true)
    const isColumnCompleted = board
        .map(row =&gt; row[lastSetColumnIndex])
        .map(boardEntry =&gt; boardEntry.marked)
        .reduce((previousValue, currentValue) =&gt; currentValue &amp;&amp; previousValue, true)
    return isRowCompleted || isColumnCompleted
}

/**
 * @param {number[]} numberList
 * @param {Array.&lt;Array.&lt;{value: number, marked: boolean}&gt;&gt;} board
 * @returns number
 */
function calculateNumberOfDrawsToWin(numberList, board) {
    let numberOfDraws = 0
    const numberToIndexMap = new Map()
    for ([rowIndex, row] of board.entries()) {
        for ([columnIndex, boardEntry] of row.entries()) {
            numberToIndexMap.set(boardEntry.value, [rowIndex, columnIndex])
        }
    }
    for (const number of numberList) {
        numberOfDraws++
        if (numberToIndexMap.has(number)) {
            const [rowIndex, columnIndex] = numberToIndexMap.get(number)
            board[rowIndex][columnIndex].marked = true
            if (checkIfBingo(board, rowIndex, columnIndex)) {
                return numberOfDraws
            }
        }
    }
    return null
}

/**
 * @param {Array.&lt;Array.&lt;{value: number, marked: boolean}&gt;&gt;} board
 * @returns number
 */
function calculateSumOfUnmarkedNumbers(board) {
    let result = 0
    for (const row of board) {
        for (const boardEntry of row) {
            if (!boardEntry.marked) {
                result += boardEntry.value
            }
        }
    }
    return result
}

/**
 * @param {number[]} numberList
 * @param {Array.&lt;Array.&lt;Array.&lt;{value: number, marked: boolean}&gt;&gt;&gt;} boardList
 * @returns {*}
 */
function calculateDrawsForEachBoard(numberList, boardList) {
    const resultList = []
    for (const board of boardList) {
        resultList.push({
            numberOfDraws: calculateNumberOfDrawsToWin(numberList, board),
            board
        })
    }
    return resultList
}

/**
 * @param {Array.&lt;Array.&lt;Array.&lt;{value: number, marked: boolean}&gt;&gt;&gt;} boardList
 * @param {number[]} numberList
 */
function runSolutionPuzzleOne(numberList, boardList) {
    const resultList = calculateDrawsForEachBoard(numberList, boardList)
    let winningBoard = null
    for (const item of resultList) {
        if (winningBoard === null || item.numberOfDraws &lt; winningBoard.numberOfDraws) {
            winningBoard = item
        }
    }
    const score = calculateSumOfUnmarkedNumbers(winningBoard.board) * numberList[winningBoard.numberOfDraws - 1]
    console.log(`Solution to first puzzle: ${score}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_4"><a class="anchor" href="#_part_2_4"></a><a class="link" href="#_part_2_4">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Array.&lt;Array.&lt;Array.&lt;{value: number, marked: boolean}&gt;&gt;&gt;} boardList
 * @param {number[]} numberList
 */
function runSolutionPuzzleTwo(numberList, boardList) {
    const resultList = calculateDrawsForEachBoard(numberList, boardList)
    let winningBoard = null
    for (const item of resultList) {
        if (winningBoard === null || item.numberOfDraws &gt; winningBoard.numberOfDraws) {
            winningBoard = item
        }
    }
    const score = calculateSumOfUnmarkedNumbers(winningBoard.board) * numberList[winningBoard.numberOfDraws - 1]
    console.log(`Solution to second puzzle: ${score}`)
}</code></pre>
</div>
</div>
<a id="day05" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_05_javascript"><a class="anchor" href="#_day_05_javascript"></a><a class="link" href="#_day_05_javascript">Day 05: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_5"><a class="anchor" href="#_solution_5"></a><a class="link" href="#_solution_5">Solution</a></h4>
<div class="paragraph">
<p>Hydrothermal Venture</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">const rawInput = fs.readFileSync('input.txt').toString().split('\n')
const lineList = []
for (const line of rawInput) {
    const [p1, p2] = line
        .split(' -&gt; ')
        .map(pRaw =&gt;
            pRaw.split(',').map(v =&gt; parseInt(v, 10))
        )
    lineList.push({ x1: p1[0], y1: p1[1], x2: p2[0], y2: p2[1] })
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_5"><a class="anchor" href="#_part_1_5"></a><a class="link" href="#_part_1_5">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Array.&lt;{x1: number, y1: number, x2: number, y2: number}&gt;} lineList
 * @returns {Map&lt;string,number&gt;}
 */
function rasterizeLines(lineList) {
    /** @type {Map&lt;string,number&gt;} */
    const rasterizeMap = new Map()
    for (const line of lineList) {
        let currentPos = { x: line.x1, y: line.y1 }
        const lineXLen = Math.abs(line.x2 - line.x1)
        const lineYLen = Math.abs(line.y2 - line.y1)
        const xStepDelta = line.x1 === line.x2 ? 0 : (line.x1 &lt;= line.x2 ? 1 : -1)
        const yStepDelta = line.y1 === line.y2 ? 0 : (line.y1 &lt;= line.y2 ? 1 : -1)
        while (Math.abs(currentPos.x - line.x1) &lt;= lineXLen &amp;&amp; Math.abs(currentPos.y - line.y1) &lt;= lineYLen) {
            const pHash = `${currentPos.x},${currentPos.y}`
            const p = rasterizeMap.get(pHash)
            rasterizeMap.set(pHash, p !== undefined ? p + 1 : 1)
            currentPos.x += xStepDelta
            currentPos.y += yStepDelta
        }
    }
    return rasterizeMap
}

/**
 * @param {Array.&lt;{x1: number, y1: number, x2: number, y2: number}&gt;} lineList
 */
function runSolutionPuzzleOne(lineList) {
    const rasterizeMap = rasterizeLines(lineList.filter(p =&gt; p.x1 === p.x2 || p.y1 === p.y2))
    let overlapCnt = 0
    for (const value of rasterizeMap.values()) {
        if (value &gt; 1) {
            overlapCnt++
        }
    }
    console.log(`Solution to first puzzle: ${overlapCnt}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_5"><a class="anchor" href="#_part_2_5"></a><a class="link" href="#_part_2_5">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Array.&lt;{x1: number, y1: number, x2: number, y2: number}&gt;} lineList
 */
function runSolutionPuzzleTwo(lineList) {
    const rasterizeMap = rasterizeLines(lineList)
    let overlapCnt = 0
    for (const value of rasterizeMap.values()) {
        if (value &gt; 1) {
            overlapCnt++
        }
    }
    console.log(`Solution to second puzzle: ${overlapCnt}`)
}</code></pre>
</div>
</div>
<a id="day06" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_06_javascript"><a class="anchor" href="#_day_06_javascript"></a><a class="link" href="#_day_06_javascript">Day 06: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_6"><a class="anchor" href="#_solution_6"></a><a class="link" href="#_solution_6">Solution</a></h4>
<div class="paragraph">
<p>Lanternfish</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">const fishDayList = new Array(9).fill(0)
fs.readFileSync('input.txt')
    .toString()
    .split(',')
    .forEach(fishValueRaw =&gt; {
        fishDayList[parseInt(fishValueRaw, 10)] += 1
    })</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_6"><a class="anchor" href="#_part_1_6"></a><a class="link" href="#_part_1_6">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {number[]} fishDayList
 * @param {number} days
 * @returns {number} Total number of fishes
 */
function runSimulation(fishDayList, days) {
    let resetFishesCnt = 0
    for (let day = 1; day &lt;= days; day++) {
        for (let [key, fishCnt] of fishDayList.entries()) {
            if (key === 0) {
                resetFishesCnt = fishCnt
                fishDayList[0] = 0
            } else {
                fishDayList[key - 1] = fishCnt
            }
        }
        fishDayList[8] = resetFishesCnt
        fishDayList[6] += resetFishesCnt
    }
    return fishDayList.reduce((pV, cV) =&gt; pV + cV, 0)
}

/**
 * @param {number[]} fishDayList
 */
function runSolutionPuzzleOne(fishDayList) {
    const result = runSimulation(fishDayList, 80)
    console.log(`Solution to first puzzle: ${result}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_6"><a class="anchor" href="#_part_2_6"></a><a class="link" href="#_part_2_6">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {number[]} fishDayList
 */
function runSolutionPuzzleTwo(fishDayList) {
    const result = runSimulation(fishDayList, 256)
    console.log(`Solution to second puzzle: ${result}`)
}</code></pre>
</div>
</div>
<a id="day07" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_07_javascript"><a class="anchor" href="#_day_07_javascript"></a><a class="link" href="#_day_07_javascript">Day 07: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_7"><a class="anchor" href="#_solution_7"></a><a class="link" href="#_solution_7">Solution</a></h4>
<div class="paragraph">
<p>The Treachery of Whales</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">const crabList = fs.readFileSync('input.txt')
    .toString()
    .split(',')
    .map(v =&gt; parseInt(v, 10))</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_7"><a class="anchor" href="#_part_1_7"></a><a class="link" href="#_part_1_7">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {number[]} crabList
 */
function runSolutionPuzzleOne(crabList) {
    const minPos = Math.min(...crabList)
    const maxPos = Math.max(...crabList)
    let minFuelConsumption = Infinity
    for (let pos = minPos; pos &lt;= maxPos; pos++) {
        const fuelConsumption = crabList.reduce((pV, cV) =&gt; pV + Math.abs(cV - pos), 0)
        if (fuelConsumption &lt; minFuelConsumption) {
            minFuelConsumption = fuelConsumption
        }
    }
    console.log(`Solution to first puzzle: ${minFuelConsumption}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_7"><a class="anchor" href="#_part_2_7"></a><a class="link" href="#_part_2_7">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {number} fromPos
 * @param {number} toPos
 * @returns {number} Fuel consumption
 */
function calcFuelConsumption(fromPos, toPos) {
    let result = 0
    for (let i = 1; i &lt;= Math.abs(toPos - fromPos); i++) {
        result += i
    }
    return result
}

/**
 * @param {number[]} crabList
 */
function runSolutionPuzzleTwo(crabList) {
    const minPos = Math.min(...crabList)
    const maxPos = Math.max(...crabList)
    let minFuelConsumption = Infinity
    for (let pos = minPos; pos &lt;= maxPos; pos++) {
        const fuelConsumption = crabList.reduce((pV, cV) =&gt; pV + calcFuelConsumption(cV, pos), 0)
        if (fuelConsumption &lt; minFuelConsumption) {
            minFuelConsumption = fuelConsumption
        }
    }
    console.log(`Solution to second puzzle: ${minFuelConsumption}`)
}</code></pre>
</div>
</div>
<a id="day08" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_08_javascript"><a class="anchor" href="#_day_08_javascript"></a><a class="link" href="#_day_08_javascript">Day 08: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_8"><a class="anchor" href="#_solution_8"></a><a class="link" href="#_solution_8">Solution</a></h4>
<div class="paragraph">
<p>Seven Segment Search</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {string} input
 * @returns {string} Sorted input
 */
function sortChars(input) {
    return input.split('').sort().join('')
}

/** @type {Array.&lt;{usp: string[], output: string[]}&gt;} */
const entryList = fs.readFileSync('input.txt')
    .toString()
    .split('\n')
    .map(line =&gt; {
        const [uspRaw, outputRaw] = line.split(' | ')
        return {
            usp: uspRaw.split(' ').map(sortChars),
            output: outputRaw.split(' ').map(sortChars)
        }
    })</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_8"><a class="anchor" href="#_part_1_8"></a><a class="link" href="#_part_1_8">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Array.&lt;{usp: string[], output: string[]}&gt;} entryList
 */
function runSolutionPuzzleOne(entryList) {
    let simpleDigitsCnt = 0
    for (let entry of entryList) {
        for (let digitSignalLineCnt of entry.output.map(v =&gt; v.length)) {
            if ([2, 4, 3, 7].includes(digitSignalLineCnt)) {
                simpleDigitsCnt++
            }
        }
    }
    console.log(`Solution to first puzzle: ${simpleDigitsCnt}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_8"><a class="anchor" href="#_part_2_8"></a><a class="link" href="#_part_2_8">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {string[]} outputList
 * @returns {string[]} Initialized digit list containing simple digits only
 */
function initializeDigitList(outputList) {
    const digitList = new Array(10).fill(null)
    for (const [index, digitSignalLineCnt] of outputList.map(v =&gt; v.length).entries()) {
        if (digitSignalLineCnt === 2) {
            digitList[1] = outputList[index]
        } else if (digitSignalLineCnt === 4) {
            digitList[4] = outputList[index]
        } else if (digitSignalLineCnt === 3) {
            digitList[7] = outputList[index]
        } else if (digitSignalLineCnt === 7) {
            digitList[8] = outputList[index]
        }
    }
    return digitList
}

/**
 * @param {string} digitA
 * @param {string} digitB
 * @returns {string} Distinct signal
 */
function getDistinctSignals(digitA, digitB) {
    const digitACharList = digitA.split('')
    const digitBCharList = digitB.split('')
    let result = ''
    for (const d of digitACharList) {
        if (!digitBCharList.includes(d)) {
            result += d
        }
    }
    for (const d of digitBCharList) {
        if (!digitACharList.includes(d)) {
            result += d
        }
    }
    return result
}

/**
 * @param {Array.&lt;{usp: string[], output: string[]}&gt;} entryList
 */
function runSolutionPuzzleTwo(entryList) {
    let totalEntryValue = 0
    for (const entry of entryList) {
        // Initialize digit list with the simple digits
        const digitList = initializeDigitList(entry.usp)

        // Do a little deduction
        const aSignal = getDistinctSignals(digitList[1], digitList[7])
        const cfSignal = digitList[1]
        digitList[3] = entry.usp.filter(v =&gt; v.length === 5 &amp;&amp; getDistinctSignals(cfSignal, v).length === 3)[0]
        const egSignal = getDistinctSignals(aSignal, getDistinctSignals(digitList[4], digitList[8]))
        digitList[9] = entry.usp.filter(v =&gt; v.length === 6 &amp;&amp; getDistinctSignals(egSignal, v).length === 6)[0]
        const eSignal = getDistinctSignals(digitList[8], digitList[9])
        digitList[2] = entry.usp.filter(v =&gt; v.length === 5 &amp;&amp; getDistinctSignals(eSignal, v).length === 4)[0]
        digitList[5] = entry.usp.filter(v =&gt; v.length === 5 &amp;&amp; v !== digitList[2] &amp;&amp; v !== digitList[3])[0]
        const dgSignal = getDistinctSignals(aSignal, getDistinctSignals(digitList[1], digitList[3]))
        digitList[6] = entry.usp.filter(v =&gt; v.length === 6 &amp;&amp; getDistinctSignals(dgSignal, v).length === 4 &amp;&amp; v !== digitList[9])[0]
        digitList[0] = entry.usp.filter(v =&gt; v.length === 6 &amp;&amp; v !== digitList[6] &amp;&amp; v !== digitList[9])[0]

        // Finally, convert output to number
        const digitCharMap = new Map()
        for (const [digit, chars] of digitList.entries()) {
            digitCharMap.set(chars, digit)
        }
        const entryValue = parseInt(entry.output.reduce((pV, cV) =&gt; `${pV}${digitCharMap.get(cV)}`, ''), 10)

        totalEntryValue += entryValue
    }
    console.log(`Solution to second puzzle: ${totalEntryValue}`)
}</code></pre>
</div>
</div>
<a id="day09" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_09_javascript"><a class="anchor" href="#_day_09_javascript"></a><a class="link" href="#_day_09_javascript">Day 09: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_9"><a class="anchor" href="#_solution_9"></a><a class="link" href="#_solution_9">Solution</a></h4>
<div class="paragraph">
<p>Smoke Basin</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/** @type {Array.&lt;Array.&lt;number&gt;&gt;} */
let heighMatrix = fs.readFileSync('input.txt')
    .toString()
    .split('\n')
    .map(line =&gt; [10, ...line.split('').map(v =&gt; parseInt(v, 10)), 10])</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_9"><a class="anchor" href="#_part_1_9"></a><a class="link" href="#_part_1_9">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Array.&lt;Array.&lt;number&gt;&gt;} heighMatrix
 * @param {number} xPos
 * @param {number} yPos
 * @returns {boolean} Is minimum
 */
function isMinimum(heighMatrix, xPos, yPos) {
    const currentHeight = heighMatrix[yPos][xPos]
    return heighMatrix[yPos][xPos - 1] &gt; currentHeight &amp;&amp;
        heighMatrix[yPos][xPos + 1] &gt; currentHeight &amp;&amp;
        heighMatrix[yPos + 1][xPos] &gt; currentHeight &amp;&amp;
        heighMatrix[yPos - 1][xPos] &gt; currentHeight
}

/**
 * @param {Array.&lt;Array.&lt;boolean&gt;&gt;} localMinimumMatrix
 * @param {number} xPos
 * @param {number} yPos
 */
function setLocalMinimum(localMinimumMatrix, xPos, yPos) {
    localMinimumMatrix[yPos][xPos] = true
    localMinimumMatrix[yPos][xPos - 1] = false
    localMinimumMatrix[yPos][xPos + 1] = false
    localMinimumMatrix[yPos - 1][xPos] = false
    localMinimumMatrix[yPos + 1][xPos] = false
}

/**
 * @param {Array.&lt;Array.&lt;number&gt;&gt;} heighMatrix
 * @returns {Array.&lt;Array.&lt;number&gt;&gt;} Local minimum matrix
 */
function generateLocalMinimumMatrix(heighMatrix) {
    const localMinimumMatrix = new Array(heighMatrix.length).fill(null).map(() =&gt; new Array(heighMatrix[0].length).fill(false))
    for (let xPos = 1; xPos &lt; heighMatrix[0].length - 1; xPos++) {
        for (let yPos = 1; yPos &lt; heighMatrix.length - 1; yPos++) {
            if (isMinimum(heighMatrix, xPos, yPos)) {
                setLocalMinimum(localMinimumMatrix, xPos, yPos)
            }
        }
    }
    return localMinimumMatrix
}

/**
 * @param {Array.&lt;Array.&lt;number&gt;&gt;} heighMatrix
 */
function runSolutionPuzzleOne(heighMatrix) {
    const localMinimumMatrix = generateLocalMinimumMatrix(heighMatrix)
    let totalRiskLevel = 0
    for (let xPos = 1; xPos &lt; heighMatrix[0].length - 1; xPos++) {
        for (let yPos = 1; yPos &lt; heighMatrix.length - 1; yPos++) {
            if (localMinimumMatrix[yPos][xPos]) {
                totalRiskLevel += heighMatrix[yPos][xPos] + 1
            }
        }
    }
    console.log(`Solution to first puzzle: ${totalRiskLevel}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_9"><a class="anchor" href="#_part_2_9"></a><a class="link" href="#_part_2_9">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Array.&lt;Array.&lt;number&gt;&gt;} heighMatrix
 * @param {number} xPos
 * @param {number} yPos
 * @returns {number} Size of basin
 */
function recurseBasin(heighMatrix, xPos, yPos) {
    if (heighMatrix[yPos][xPos] &lt; 9) {
        heighMatrix[yPos][xPos] = 9 // Mark as visited
        let size = 1
        size += recurseBasin(heighMatrix, xPos - 1, yPos)
        size += recurseBasin(heighMatrix, xPos + 1, yPos)
        size += recurseBasin(heighMatrix, xPos, yPos - 1)
        size += recurseBasin(heighMatrix, xPos, yPos + 1)
        return size
    } else {
        return 0
    }
}

/**
 * @param {Array.&lt;Array.&lt;number&gt;&gt;} heighMatrix
 */
function runSolutionPuzzleTwo(heighMatrix) {
    const localMinimumMatrix = generateLocalMinimumMatrix(heighMatrix)
    const basinList = []
    for (let xPos = 1; xPos &lt; heighMatrix[0].length - 1; xPos++) {
        for (let yPos = 1; yPos &lt; heighMatrix.length - 1; yPos++) {
            if (localMinimumMatrix[yPos][xPos]) {
                basinList.push(recurseBasin(heighMatrix, xPos, yPos))
            }
        }
    }
    const result = basinList.sort((a, b) =&gt; b - a).slice(0, 3).reduce((pV, cV) =&gt; pV * cV)
    console.log(`Solution to second puzzle: ${result}`)
}</code></pre>
</div>
</div>
<a id="day10" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_10_javascript"><a class="anchor" href="#_day_10_javascript"></a><a class="link" href="#_day_10_javascript">Day 10: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_10"><a class="anchor" href="#_solution_10"></a><a class="link" href="#_solution_10">Solution</a></h4>
<div class="paragraph">
<p>Syntax Scoring</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/** @type {Array.&lt;string&gt;} */
let lineList = fs.readFileSync('input.txt')
    .toString()
    .split('\n')</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_10"><a class="anchor" href="#_part_1_10"></a><a class="link" href="#_part_1_10">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/** @type {Map&lt;string,string&gt;} */
const commandMap = new Map([
    ['(', ')'],
    ['[', ']'],
    ['{', '}'],
    ['&lt;', '&gt;']
])
const startCommandChars = [...commandMap.keys()]

/** @type {Map&lt;string,number&gt;} */
const corruptScoreMap = new Map([
    [')', 3],
    [']', 57],
    ['}', 1197],
    ['&gt;', 25137]
])

/**
 * @param {string} line
 * @returns {string}
 */
function getFirstCorruptedChar(line) {
    const stack = []
    for (const c of line) {
        if (startCommandChars.includes(c)) {
            stack.push(c)
        } else {
            const cPrev = stack.pop()
            if (commandMap.get(cPrev) !== c) {
                return c
            }
        }
    }
    return null
}

/**
 * @param {Array.&lt;string&gt;} lineList
 */
function runSolutionPuzzleOne(lineList) {
    const corruptLineChars = new Map([
        [')', 0],
        [']', 0],
        ['}', 0],
        ['&gt;', 0]
    ])
    for (const line of lineList) {
        const c = getFirstCorruptedChar(line)
        if (c !== null) {
            corruptLineChars.set(c, corruptLineChars.get(c) + 1)
        }
    }
    const points = [...corruptLineChars.entries()].reduce((pV, [c, count]) =&gt; pV + corruptScoreMap.get(c) * count, 0)
    console.log(`Solution to first puzzle: ${points}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_10"><a class="anchor" href="#_part_2_10"></a><a class="link" href="#_part_2_10">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/** @type {Map&lt;string,number&gt;} */
const incompleteScoreMap = new Map([
    [')', 1],
    [']', 2],
    ['}', 3],
    ['&gt;', 4]
])

/**
 * @param {string} line
 * @returns {string}
 */
function generateCompletionString(line) {
    const stack = []
    for (const c of line) {
        startCommandChars.includes(c) ? stack.push(c) : stack.pop()
    }
    return stack.reverse().reduce((pV, c) =&gt; pV + commandMap.get(c), '')
}

/**
 * @param {string} value
 * @returns {number}
 */
function scoreCompletionString(value) {
    let score = 0
    for (const c of value) {
        score = score * 5 + incompleteScoreMap.get(c)
    }
    return score
}

/**
 * @param {Array.&lt;string&gt;} lineList
 */
function runSolutionPuzzleTwo(lineList) {
    const scoreList = []
    for (const line of lineList) {
        if (getFirstCorruptedChar(line) === null) {
            const completionString = generateCompletionString(line)
            scoreList.push(scoreCompletionString(completionString))
        }
    }
    const sortedScoreList = scoreList.sort((a, b) =&gt; a - b)
    const middleScore = sortedScoreList[Math.floor(sortedScoreList.length / 2)]
    console.log(`Solution to second puzzle: ${middleScore}`)
}</code></pre>
</div>
</div>
<a id="day11" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_11_javascript"><a class="anchor" href="#_day_11_javascript"></a><a class="link" href="#_day_11_javascript">Day 11: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_11"><a class="anchor" href="#_solution_11"></a><a class="link" href="#_solution_11">Solution</a></h4>
<div class="paragraph">
<p>Dumbo Octopus</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/** @type {Array.&lt;Array.&lt;number&gt;&gt;} */
const octopusMatrix = fs.readFileSync('input.txt')
    .toString()
    .split('\n')
    .map(line =&gt; line.split('').map(v =&gt; parseInt(v, 10)))</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_11"><a class="anchor" href="#_part_1_11"></a><a class="link" href="#_part_1_11">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Array.&lt;Array.&lt;number&gt;&gt;} octopusMatrix
 * @param {number} x
 * @param {number} y
 */
function flashOctopus(octopusMatrix, x, y) {
    octopusMatrix[y][x] = 0
    for (let ty = Math.max(y - 1, 0); ty &lt;= Math.min(y + 1, octopusMatrix.length - 1); ty++) {
        for (let tx = Math.max(x - 1, 0); tx &lt;= Math.min(x + 1, octopusMatrix[0].length - 1); tx++) {
            if (!(ty === y &amp;&amp; tx === x) &amp;&amp; octopusMatrix[ty][tx] !== 0) {
                octopusMatrix[ty][tx] += 1
            }
        }
    }
}

/**
 * @param {Array.&lt;Array.&lt;number&gt;&gt;} octopusMatrix
 * @returns {number} Number of flashes ocurred in this step
 */
function executeStep(octopusMatrix) {
    for (let y = 0; y &lt; octopusMatrix.length; y++) {
        for (let x = 0; x &lt; octopusMatrix[0].length; x++) {
            octopusMatrix[y][x] += 1
        }
    }
    let didFlash = true
    let flashCnt = 0
    while (didFlash) {
        didFlash = false
        for (let y = 0; y &lt; octopusMatrix.length; y++) {
            for (let x = 0; x &lt; octopusMatrix[0].length; x++) {
                if (octopusMatrix[y][x] &gt; 9) {
                    flashCnt++
                    didFlash = true
                    flashOctopus(octopusMatrix, x, y)
                }
            }
        }
    }
    return flashCnt
}

/**
 * @param {Array.&lt;Array.&lt;number&gt;&gt;} octopusMatrix
 */
function runSolutionPuzzleOne(octopusMatrix) {
    let flashCnt = 0
    for (let step = 1; step &lt;= 100; step++) {
        flashCnt += executeStep(octopusMatrix)
    }
    console.log(`Solution to first puzzle: ${flashCnt}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_11"><a class="anchor" href="#_part_2_11"></a><a class="link" href="#_part_2_11">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Array.&lt;Array.&lt;number&gt;&gt;} octopusMatrix
 */
function runSolutionPuzzleTwo(octopusMatrix) {
    const maxFlashCnt = octopusMatrix.length * octopusMatrix[0].length
    let lastFlashCnt = 0
    let stepCnt = 0
    do {
        stepCnt++
        lastFlashCnt = executeStep(octopusMatrix)
    } while (lastFlashCnt !== maxFlashCnt)
    console.log(`Solution to second puzzle: ${stepCnt}`)
}</code></pre>
</div>
</div>
<a id="day12" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_12_javascript"><a class="anchor" href="#_day_12_javascript"></a><a class="link" href="#_day_12_javascript">Day 12: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_12"><a class="anchor" href="#_solution_12"></a><a class="link" href="#_solution_12">Solution</a></h4>
<div class="paragraph">
<p>Passage Pathing</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/** @type {Array.&lt;Array.&lt;string&gt;&gt;} */
const pathList = fs.readFileSync('input.txt')
    .toString()
    .split('\n')
    .map(line =&gt; line.split('-'))
    /** @type {Map&lt;string,string[]&gt;} */
const edgeMap = new Map()
for (const path of pathList) {
    if (path[1] !== 'start') {
        if (edgeMap.has(path[0])) {
            edgeMap.get(path[0]).push(path[1])
        } else {
            edgeMap.set(path[0], [path[1]])
        }
    }
    if (path[0] !== 'start' &amp;&amp; path[1] !== 'end') {
        if (edgeMap.has(path[1])) {
            edgeMap.get(path[1]).push(path[0])
        } else {
            edgeMap.set(path[1], [path[0]])
        }
    }
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_12"><a class="anchor" href="#_part_1_12"></a><a class="link" href="#_part_1_12">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {string} edge
 * @returns {boolean}
 */
function isSmallCave(edge) {
    return edge === edge.toLocaleLowerCase()
}

/**
 * @param {string[]} traversedPath
 * @returns {*}
 */
function simpleFilterGenerator(traversedPath) {
    return (edge) =&gt; {
        return !isSmallCave(edge) || !traversedPath.includes(edge)
    }
}

/**
 * @param {Map&lt;string,Array.&lt;string&gt;&gt;} edgeMap
 * @param {string[]} traversedPath
 * @param {*} edgeFilterGenerator
 * @returns {string[]}
 */
function findDistinctPaths(edgeMap, traversedPath, edgeFilterGenerator) {
    /** @type {string[]} */
    let result = []
    const lastEdge = traversedPath[traversedPath.length - 1]
    const edgeFilter = edgeFilterGenerator(traversedPath)
    const nextEdges = edgeMap.get(lastEdge).filter(edgeFilter)
    for (const edge of nextEdges) {
        if (edge === 'end') {
            result.push([...traversedPath, edge])
        } else {
            result = result.concat([...findDistinctPaths(edgeMap, [...traversedPath, edge], edgeFilterGenerator)])
        }
    }
    return result
}

/**
 * @param {Map&lt;string,Array.&lt;string&gt;&gt;} edgeMap
 */
function runSolutionPuzzleOne(edgeMap) {
    const paths = findDistinctPaths(edgeMap, ['start'], simpleFilterGenerator)
    console.log(`Solution to first puzzle: ${paths.length}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_12"><a class="anchor" href="#_part_2_12"></a><a class="link" href="#_part_2_12">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {string[]} traversedPath
 * @returns {*}
 */
function complexFilterGenerator(traversedPath) {
    const maxSmallCaveVisitCount = Math.max(...traversedPath.filter(isSmallCave).map(v =&gt; traversedPath.filter(vv =&gt; vv === v).length))
    return (edge) =&gt; {
        return !isSmallCave(edge) || (maxSmallCaveVisitCount &lt; 2 &amp;&amp; isSmallCave(edge)) || !traversedPath.includes(edge)
    }
}

/**
 * @param {Map&lt;string,string[]&gt;} edgeMap
 */
function runSolutionPuzzleTwo(edgeMap) {
    const paths = findDistinctPaths(edgeMap, ['start'], complexFilterGenerator)
    console.log(`Solution to second puzzle: ${paths.length}`)
}</code></pre>
</div>
</div>
<a id="day13" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_13_javascript"><a class="anchor" href="#_day_13_javascript"></a><a class="link" href="#_day_13_javascript">Day 13: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_13"><a class="anchor" href="#_solution_13"></a><a class="link" href="#_solution_13">Solution</a></h4>
<div class="paragraph">
<p>Transparent Origami</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/** @type {Array.&lt;Array.&lt;string&gt;&gt;} */
const [dotListRaw, foldInstructionListRaw] = fs.readFileSync('input.txt')
    .toString()
    .split('\n\n')
    /** @type {Map&lt;string, [{x: number, y: number}]&gt;} */
const dotMap = new Map(dotListRaw
    .split('\n')
    .map(line =&gt; {
        const [x, y] = line.split(',').map(v =&gt; parseInt(v, 10))
        return [`${x},${y}`, { x, y }]
    }))

const foldInstructionRegex = /fold along (.+)=(\d+)/
const foldInstructionList = foldInstructionListRaw
    .split('\n')
    .map(line =&gt; {
        const match = foldInstructionRegex.exec(line)
        return { axis: match[1], value: parseInt(match[2], 10) }
    })</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_13"><a class="anchor" href="#_part_1_13"></a><a class="link" href="#_part_1_13">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Map&lt;string, [{x: number, y: number}]&gt;} dotMap
 * @param {{axis: string, value: number}} instruction
 */
function fold(dotMap, instruction) {
    for (const [dotHash, dot] of dotMap.entries()) {
        if (instruction.value &lt; dot[instruction.axis]) {
            const axisPos = instruction.value - (dot[instruction.axis] - instruction.value)
            const newDot = {...dot }
            newDot[instruction.axis] = axisPos
            if (!dotMap.has(`${newDot.x},${newDot.y}`)) {
                dotMap.set(`${newDot.x},${newDot.y}`, { x: newDot.x, y: newDot.y })
            }
            dotMap.delete(dotHash)
        }
    }
}

/**
 * @param {Map&lt;string, [{x: number, y: number}]&gt;} dotMap
 * @param {Array.&lt;{axis: string, value: number}&gt;} instructionList
 */
function runSolutionPuzzleOne(dotMap, instructionList) {
    fold(dotMap, instructionList[0])
    console.log(`Solution to first puzzle: ${dotMap.size}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_13"><a class="anchor" href="#_part_2_13"></a><a class="link" href="#_part_2_13">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Map&lt;string, [{x: number, y: number}]&gt;} dotMap
 */
function plotLetters(dotMap) {
    let xMax = 0
    let yMax = 0
    for (const dot of dotMap.values()) {
        xMax = Math.max(xMax, dot.x)
        yMax = Math.max(yMax, dot.y)
    }
    for (let y = 0; y &lt; yMax + 1; y++) {
        let line = ''
        for (let x = 0; x &lt; xMax + 1; x++) {
            line += dotMap.has(`${x},${y}`) ? '#' : '.'
        }
        console.log(line)
    }
}

/**
 * @param {Map&lt;string, [{x: number, y: number}]&gt;} dotMap
 * @param {Array.&lt;{axis: string, value: number}&gt;} instructionList
 */
function runSolutionPuzzleTwo(dotMap, instructionList) {
    for (const instruction of instructionList) {
        fold(dotMap, instruction)
    }
    console.log('Solution to second puzzle: (see plot)')
    plotLetters(dotMap)
}</code></pre>
</div>
</div>
<a id="day14" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_14_javascript"><a class="anchor" href="#_day_14_javascript"></a><a class="link" href="#_day_14_javascript">Day 14: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_14"><a class="anchor" href="#_solution_14"></a><a class="link" href="#_solution_14">Solution</a></h4>
<div class="paragraph">
<p>Extended Polymerization</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">const [template, rulesRaw] = fs.readFileSync('input.txt')
    .toString()
    .split('\n\n')
const rulesMap = new Map(rulesRaw
        .split('\n')
        .map(line =&gt; line.split(' -&gt; ')))</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_14"><a class="anchor" href="#_part_1_14"></a><a class="link" href="#_part_1_14">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * We just need to count the number of pairs and the numbers of single chars added.
 * The correct order of the pairs in the template string is irrelevant hence
 * we don't need to perform here any complex string modifications. This makes
 * the solution pretty simple :o)
 * @param {string} template
 * @param {number} steps
 * @param {Map&lt;string, string&gt;} rules
 * @returns {Map&lt;string, number&gt;}
 */
function getCharCountForTemplate(template, steps, rules) {
    const pairMap = initializePairMap(template)
    const charCountMap = countChars(template)
    for (let step = 1; step &lt;= steps; step++) {
        const pairMapClone = new Map([...pairMap])
        for (const [pair, count] of pairMapClone.entries()) {
            // Add new pairs depending on the quantity of the current pair
            const insertChar = rules.get(pair)
            const leftPair = pair[0] + insertChar
            const rightPair = insertChar + pair[1]
            incrementMapValue(pairMap, leftPair, count)
            incrementMapValue(pairMap, rightPair, count)

            // Update char count
            incrementMapValue(charCountMap, insertChar, count)

            // Finally, remove current pairs as we've split them up into two new pairs
            decrementMapValue(pairMap, pair, count)
            if (pairMap.get(pair) === 0) {
                pairMap.delete(pair)
            }
        }
    }
    return charCountMap
}

/**
 * Map of pairs appearing in the template string and their count
 * @param {string} template
 * @returns {Map&lt;string, Map&lt;string, number&gt;&gt;}
 */
function initializePairMap(template) {
    /** @type {Map&lt;string, number&gt;} */
    const pairMap = new Map()
    for (let i = 0; i &lt; template.length - 1; i++) {
        const pair = template[i] + template[i + 1]
        pairMap.set(pair, pairMap.has(pair) ? pairMap.get(pair) + 1 : 1)
    }
    return pairMap
}

/**
 * @param {string} template
 * @returns {Map&lt;string, number&gt;}
 */
function countChars(template) {
    const resultMap = new Map()
    for (const char of template) {
        incrementMapValue(resultMap, char, 1)
    }
    return resultMap
}

function incrementMapValue(map, key, value) {
    map.set(key, map.has(key) ? map.get(key) + value : value)
}

function decrementMapValue(map, key, value) {
    map.set(key, map.get(key) - value)
}

/**
 * @param {string} template
 * @param {Map&lt;string, string&gt;} rules
 */
function runSolutionPuzzleOne(template, rules) {
    const result = getCharCountForTemplate(template, 10, rules)
    const leastCommonCnt = Math.min(...result.values())
    const mostCommonCnt = Math.max(...result.values())
    console.log(`Solution to first puzzle: ${mostCommonCnt - leastCommonCnt}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_14"><a class="anchor" href="#_part_2_14"></a><a class="link" href="#_part_2_14">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {string} template
 * @param {Map&lt;string, string&gt;} rules
 */
function runSolutionPuzzleTwo(template, rules) {
    const result = getCharCountForTemplate(template, 40, rules)
    const leastCommonCnt = Math.min(...result.values())
    const mostCommonCnt = Math.max(...result.values())
    console.log(`Solution to second puzzle: ${mostCommonCnt - leastCommonCnt}`)
}</code></pre>
</div>
</div>
<a id="day15" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_15_javascript"><a class="anchor" href="#_day_15_javascript"></a><a class="link" href="#_day_15_javascript">Day 15: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_15"><a class="anchor" href="#_solution_15"></a><a class="link" href="#_solution_15">Solution</a></h4>
<div class="paragraph">
<p>Chiton</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/** @type {Array.&lt;Array.&lt;number&gt;&gt;} */
let riskMatrix = fs.readFileSync('input.txt')
    .toString()
    .split('\n')
    .map(line =&gt; line.split('').map(v =&gt; parseInt(v, 10)))</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_15"><a class="anchor" href="#_part_1_15"></a><a class="link" href="#_part_1_15">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * Dijkstra algorithm with optimized min heap
 * @param {Array.&lt;Array.&lt;number&gt;&gt;} riskMatrix
 * @returns {number}
 */
function getPathWithMinRisk(riskMatrix) {
    /** @type {Array.&lt;Array.&lt;{x: number, y: number, risk: number}&gt;&gt;} */
    const gridMatrix = new Array(riskMatrix.length)
        .fill(null)
        .map(_ =&gt; new Array(riskMatrix.length).fill(null))
    let minHeap = [{ x: 0, y: 0, risk: 0 }]
    gridMatrix[0][0] = minHeap[0]
    const tXY = riskMatrix.length - 1
    const adjacentGrids = [
        [-1, 0],
        [1, 0],
        [0, -1],
        [0, 1]
    ]
    while (minHeap.length &gt; 0) {
        const u = minHeap.shift()
        if (u.x === tXY &amp;&amp; u.y === tXY) {
            return u.risk
        }
        for (const [dX, dY] of adjacentGrids) {
            const vX = u.x + dX
            const vY = u.y + dY
            if (0 &lt;= vX &amp;&amp; vX &lt; riskMatrix.length &amp;&amp; 0 &lt;= vY &amp;&amp; vY &lt; riskMatrix.length) {
                const uvRisk = u.risk + riskMatrix[vY][vX]
                let v = gridMatrix[vY][vX]
                if (v === null) {
                    v = { x: vX, y: vY, risk: uvRisk }
                    minHeap.unshift(v)
                    gridMatrix[vY][vX] = v
                } else if (uvRisk &lt; v.risk) {
                    v.risk = uvRisk
                }
            }
        }
        minHeap.sort((a, b) =&gt; a.risk - b.risk)
    }
}

/**
 * @param {Array.&lt;Array.&lt;number&gt;&gt;} riskMatrix
 */
function runSolutionPuzzleOne(riskMatrix) {
    const result = getPathWithMinRisk(riskMatrix)
    console.log(`Solution to first puzzle: ${result}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_15"><a class="anchor" href="#_part_2_15"></a><a class="link" href="#_part_2_15">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {Array.&lt;Array.&lt;number&gt;&gt;} riskMatrix
 */
function runSolutionPuzzleTwo(riskMatrix) {
    const factor = 5
    const fullRiskMatrix = new Array(riskMatrix.length * factor)
        .fill(null)
        .map(_ =&gt; new Array(riskMatrix.length * factor).fill(null))
    for (n = 0; n &lt; factor; n++) {
        for (m = 0; m &lt; factor; m++) {
            const yOffset = n * riskMatrix.length
            for (let y = 0; y &lt; riskMatrix.length; y++) {
                const xOffset = m * riskMatrix.length
                for (let x = 0; x &lt; riskMatrix.length; x++) {
                    fullRiskMatrix[yOffset + y][xOffset + x] = ((riskMatrix[y][x] + n + m - 1) % 9) + 1
                }
            }
        }
    }
    const result = getPathWithMinRisk(fullRiskMatrix)
    console.log(`Solution to second puzzle: ${result}`)
}</code></pre>
</div>
</div>
<a id="day16" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="_day_16_javascript"><a class="anchor" href="#_day_16_javascript"></a><a class="link" href="#_day_16_javascript">Day 16: javascript</a></h3>
<div class="sect3">
<h4 id="_solution_16"><a class="anchor" href="#_solution_16"></a><a class="link" href="#_solution_16">Solution</a></h4>
<div class="paragraph">
<p>Packet Decoder</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">let hexInputRaw = fs.readFileSync('input.txt').toString()
const input = new Uint8Array(hexInputRaw.length / 2)
for (let i = 0; i &lt; hexInputRaw.length; i += 2) {
    input[i / 2] = parseInt(hexInputRaw[i] + hexInputRaw[i + 1], 16)
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_part_1_16"><a class="anchor" href="#_part_1_16"></a><a class="link" href="#_part_1_16">Part 1</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">const bitMasks = [
    0x0, 0x1, 0x3, 0x7, 0xF, 0x1F, 0x3F, 0x7F, 0xFF
]

/**
 * @param {Uint8Array[]} input
 * @param {number} startIndex
 * @param {number} endIndex
 * @returns {number}
 */
function getBits(input, startIndex, endIndex) {
    let result = 0
    let currentIndex = startIndex
    while (currentIndex &lt; endIndex) {
        const byteIndex = Math.floor(currentIndex / 8)
        const bitI = currentIndex % 8
        const bitJ = (endIndex &gt;= (byteIndex + 1) * 8) ? 8 : ((endIndex - 1) % 8 + 1)
        result = result &lt;&lt; (bitJ - bitI)
        result |= ((input[byteIndex] &gt;&gt; (8 - bitJ)) &amp; bitMasks[bitJ - bitI])
        currentIndex = (byteIndex + 1) * 8
    }
    return result
}

/**
 * @param {number[]} arr
 * @return {number}
 */
function convert4BitArrayToNumber(arr) {
    if (arr.length % 2 === 1) {
        arr.unshift(0)
    }
    const byteArr = new Uint8Array(arr.length / 2)
    for (let i = 0; i &lt; arr.length; i += 2) {
        byteArr[i / 2] = arr[i] &lt;&lt; 4 | arr[i + 1]
    }
    let buffer = Buffer.from(byteArr);
    return buffer.readUIntBE(0, byteArr.length);
}

/**
 * @param {Uint8Array[]} input
 * @param {number} offset
 * @returns {*}
 */
function processPacket(input, offset) {
    const headerOffset = offset + 3 + 3
    const pVersion = getBits(input, offset, offset + 3)
    const pType = getBits(input, offset + 3, offset + 3 + 3)
    if (pType === 4) {
        let groupIndex = -1
        let isLastGroup = false
        let literal4BitList = []
        while (!isLastGroup) {
            groupIndex++
            const groupStartIndex = headerOffset + groupIndex * 5
            const groupBits = getBits(input, groupStartIndex, groupStartIndex + 5)
            literal4BitList.push(groupBits &amp; bitMasks[4])
            isLastGroup = groupBits &gt;&gt; 4 === 0
        }

        // JavaScript %$/Â§&amp;$% when working with bit shift operators.
        // Shift works on signed 32-bit values but some values in the input are larger than.
        // As a result, we've suddenly minus values if we shift the value too much left.
        // Workaround: create an array of 4 bit values and convert it to a number...
        //       Â¯\_(ã)_/Â¯
        const literal = convert4BitArrayToNumber(literal4BitList)

        return {
            offset: headerOffset + groupIndex * 5 + 5,
            packet: {
                version: pVersion,
                type: pType,
                literal
            }
        }
    } else {
        const lengthTypeId = getBits(input, headerOffset, headerOffset + 1)
        if (lengthTypeId === 0) {
            const totalLength = getBits(input, headerOffset + 1, headerOffset + 1 + 15)
            let payloadOffset = headerOffset + 1 + 15
            let currentOffset = payloadOffset
            const packets = []
            while (currentOffset &lt; payloadOffset + totalLength) {
                const { offset, packet } = processPacket(input, currentOffset)
                packets.push(packet)
                currentOffset = offset
            }
            return {
                offset: currentOffset,
                packet: {
                    version: pVersion,
                    type: pType,
                    packets
                }
            }
        } else {
            const numberOfSubPackets = getBits(input, headerOffset + 1, headerOffset + 1 + 11)
            let currentPackage = 1
            let payloadOffset = headerOffset + 1 + 11
            let currentOffset = payloadOffset
            const packets = []
            while (currentPackage &lt;= numberOfSubPackets) {
                const { offset, packet } = processPacket(input, currentOffset)
                packets.push(packet)
                currentOffset = offset
                currentPackage++
            }
            return {
                offset: currentOffset,
                packet: {
                    version: pVersion,
                    type: pType,
                    packets
                }
            }
        }
    }
}

/**
 * @param {*} packets
 * @returns {number}
 */
function sumVersions(packets) {
    let versionSum = 0
    for (const packet of packets) {
        if (packet.type === 4) {
            versionSum += packet.version
        } else {
            versionSum += packet.version + sumVersions(packet.packets)
        }
    }
    return versionSum
}

/**
 * @param {Uint8Array[]} input
 */
function runSolutionPuzzleOne(input) {
    const { packet } = processPacket(input, 0)
    const versionSum = sumVersions([packet])
    console.log(`Solution to first puzzle: ${versionSum}`)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_part_2_16"><a class="anchor" href="#_part_2_16"></a><a class="link" href="#_part_2_16">Part 2</a></h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code class="language-javascript" data-lang="javascript">/**
 * @param {*} packet
 * @returns {number}
 */
function evaluatePacket(packet) {
    const valueList = packet.packets
        .map(p =&gt; p.type === 4 ? p.literal : evaluatePacket(p))
    if (packet.type === 0) {
        return valueList.reduce((sum, v) =&gt; sum + v, 0)
    } else if (packet.type === 1) {
        return valueList.reduce((sum, v) =&gt; sum * v, 1)
    } else if (packet.type === 2) {
        return Math.min(...valueList)
    } else if (packet.type === 3) {
        return Math.max(...valueList)
    } else if (packet.type === 5) {
        return valueList[0] &gt; valueList[1] ? 1 : 0
    } else if (packet.type === 6) {
        return valueList[0] &lt; valueList[1] ? 1 : 0
    } else if (packet.type === 7) {
        return valueList[0] === valueList[1] ? 1 : 0
    }
}

/**
 * @param {Uint8Array[]} input
 */
function runSolutionPuzzleTwo(input) {
    const { packet } = processPacket(input, 0)
    const result = evaluatePacket(packet)
    console.log(`Solution to second puzzle: ${result}`)
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div></p>

	</div>

</div>
<div id="push"></div>
</div>


    <div id="footer">
      <div class="container">
          <p class="muted credit">&copy; 2021 | Mixed with Bootstrap v3.1.1 | generated with <a href="https://doctoolchain.org">docToolchain</a> | Baked with JBake v2.6.4</p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="../../../js/bootstrap.min.js"></script>
    <script src="../../../js/prettify.js"></script>
    


</body>
</html>