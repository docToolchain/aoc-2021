<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Aoc 2021: AlexisTM</title>
    <meta charset="UTF-8">
<meta name="google-site-verification" content="JZ7jk3duxzxHDLuOHKPxc-uoz0JPlSBLeaAxh3wGn9Q" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Just for fun">
    <meta name="author" content="Ralf D. MÃ¼ller">
    <meta name="keywords" content="aoc">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="../../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../css/asciidoctor.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/prettify.css" rel="stylesheet">
      <link href="../../../css/retro.css" rel="stylesheet">
      <style>
      @media only screen and (min-width:768px){
          #toctitle{font-size:1.375em}
          #toc.toc{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto; padding-top: 60px;}
          #toc.toc #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
          #toc.toc>ul{font-size:.9em;margin-bottom:0}
          #toc.toc ul ul{margin-left:0;padding-left:1em}
          #toc.toc ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
          body.toc2{ padding-left: 15.5em;padding-right:0; width: 100% !important;}
          body.toc2 div#wrap div.content {width: auto !important;}
          #toc.toc{width:15em; padding-top: 60px;}
      }
      @media only screen and (min-width:1280px){
          body.toc2{ padding-left: 20.5em;padding-right:0; width: 100% !important;}
          body.toc2 div#wrap div.content {width: auto !important;}
          #toc.toc{width:20em; padding-top: 60px;}
          #toc.toc #toctitle{font-size:1.375em}
          #toc.toc>ul{font-size:.95em}
          #toc.toc ul ul{padding-left:1.25em}
      }
      body {
          overflow-y: scroll;
      }
      html, body {
          font-size: 1.06rem;
      }
      body.toc2{ overflow-x: auto}
      #toc.toc ul {
          padding-inline-start: 0;
      }
      :target::before {
          content: "";
          display: block;
          height: 60px; /* fixed header height*/
          margin: -60px 0 0; /* negative fixed header height */
      }
      .navbar {
          background-image: url(/aoc-2021/images/treeback.png);
          background-size: contain;
          background-repeat: repeat-x;
          border-bottom: 0;
          padding-bottom: 20px;
          background-color: transparent;
          box-shadow: none;
      }
      html {
          background: url(/aoc-2021/images/snowback.png) no-repeat center center fixed;
          -webkit-background-size: cover;
          -moz-background-size: cover;
          -o-background-size: cover;
          background-size: cover;
      }

      </style>
      <script>
          //smart redirectg
          if (document.location.href.includes("netlify")) {
              document.location.href=document.location.href.replace("aoc-2021.netlify.app/","doctoolchain.org/aoc-2021/");
          }
      </script>
<!-- /aoc-2021/ -->

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->

      <link rel="apple-touch-icon" sizes="180x180" href="/aoc-2021//apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="/aoc-2021//favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="/aoc-2021//favicon-16x16.png">
      <link rel="manifest" href="/aoc-2021//site.webmanifest">
      <link rel="mask-icon" href="/aoc-2021//safari-pinned-tab.svg" color="#5bbad5">
      <meta name="msapplication-TileColor" content="#da532c">
      <meta name="theme-color" content="#ffffff">
  </head>

<body onload="prettyPrint()" class="toc2 toc-left" >
<div id="wrap">

	
	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../../">AoC-2021</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
              
                
                  <li><a href="../../../rules/">Rules</a></li>
                
              
                
                  <li><a href="../../../solutions/">Solutions</a></li>
                
              
                
                  <li><a href="../../../about/">About</a></li>
                
              
          </ul>
            <!-- tag::search[] -->
            <form class="navbar-form navbar-right" action="https://google.de/search" style="border: none;">
                <div class="form-group">
                    <input type="hidden" name="q" value="site:aoc-2021.netlify.com">
                    <input type="text" name="q" class="form-control" id="search">
                    <button type="submit" class="btn btn-default hidden-sm ">Find</button>
                </div>
            </form>
            <!-- end::search[] -->
        </div><!--/.nav-collapse -->
      </div>
    </div>

	<div class="container content">
	<p><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_alexistm">AlexisTM</a>
<ul class="sectlevel2">
<li><a href="#_about_me">About me</a></li>
<li><a href="#_day_01_rockstar">Day 01: rockstar</a>
<ul class="sectlevel3">
<li><a href="#_rockstar">rockstar</a></li>
</ul>
</li>
<li><a href="#_day_02_rockstar">Day 02: rockstar</a>
<ul class="sectlevel3">
<li><a href="#_rockstar_2">rockstar</a></li>
</ul>
</li>
<li><a href="#_day_06_rockstar">Day 06: rockstar</a>
<ul class="sectlevel3">
<li><a href="#_rockstar_3">rockstar</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_alexistm"><a class="anchor" href="#_alexistm"></a><a class="link" href="#_alexistm">AlexisTM</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="https://avatars.githubusercontent.com/u/6976744?v=4" alt="6976744?v=4"></span></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>AlexisTM</strong><br>
<span class="icon"><i class="fa fa-github"></i></span>: <a href="https://github.com/AlexisTM">AlexisTM</a></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_about_me"><a class="anchor" href="#_about_me"></a><a class="link" href="#_about_me">About me</a></h3>
<div class="paragraph">
<p>Nothing here yet. Update your profile at <a href="https://github.com/docToolchain/aoc-2021/blob/master/profiles/AlexisTM.adoc">/profiles/AlexisTM.adoc</a></p>
</div>
<a id="day01" />
</div>
<div class="sect2">
<h3 id="_day_01_rockstar"><a class="anchor" href="#_day_01_rockstar"></a><a class="link" href="#_day_01_rockstar">Day 01: rockstar</a></h3>
<div class="paragraph">
<p><span class="small">this documentation is autogenerated. Add a <code>README.adoc</code> to your solution to take over the control of this :-)</span></p>
</div>
<div class="sect3">
<h4 id="_rockstar"><a class="anchor" href="#_rockstar"></a><a class="link" href="#_rockstar">rockstar</a></h4>
<div class="listingblock">
<div class="title">step2.rock</div>
<div class="content">
<pre class="prettyprint highlight"><code>Demons wants entertainment 'n' hatred 'n' souls
Cast souls into souls
Cast hatred into hatred
Cast entertainment into entertainment
Put souls plus hatred plus entertainment into the destiny
Give back the destiny

Listen to the entertainment
Listen to the hatred
Listen to the souls

Put Demons taking the entertainment, the hatred, and the souls into Hell
My soul is nowhere
While the entertainment ain't mysterious
Put Demons taking the entertainment, the hatred, and the souls into Heaven
If Heaven is greater than Hell
Build my soul up

Put the hatred in the entertainment
Put the souls in the hatred
Put Heaven in Hell
Listen to the entertainment

Whisper my soul</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">step1.rock</div>
<div class="content">
<pre class="prettyprint highlight"><code>My soul is nowhere
Listen to the wind
Listen to the fire
While the fire ain't mysterious
If the fire is greater than the wind
Build my soul up

Put the fire into the wind
Listen to the fire

Whisper my soul</code></pre>
</div>
</div>
<a id="day02" />
</div>
</div>
<div class="sect2">
<h3 id="_day_02_rockstar"><a class="anchor" href="#_day_02_rockstar"></a><a class="link" href="#_day_02_rockstar">Day 02: rockstar</a></h3>
<div class="paragraph">
<p><span class="small">this documentation is autogenerated. Add a <code>README.adoc</code> to your solution to take over the control of this :-)</span></p>
</div>
<div class="sect3">
<h4 id="_rockstar_2"><a class="anchor" href="#_rockstar_2"></a><a class="link" href="#_rockstar_2">rockstar</a></h4>
<div class="listingblock">
<div class="title">solution.rock</div>
<div class="content">
<pre class="prettyprint highlight"><code>The pirate is BlackBeard
Black Beard is degenerated

Pirates are delinquent
Captain Seadog is recidivist
Red Beard is despiteful

Strength was for me
Cast strength into my fist
Listen to the rules
While the rules ain't nothing
Shatter the rules with my fist
Put the rules at The pirate in Command
Put the rules at Black Beard in the sea
Cast the sea
If Command is "forward"
Let Captain Seadog be Captain Seadog with the sea
Let Pirates be Pirates with Red Beard of the sea

If Command is "down"
Let Red Beard be Red Beard with the sea

If Command is "up"
Let Red Beard be Red Beard without the sea

Listen to the rules

Say Captain Seadog of Pirates</code></pre>
</div>
</div>
<a id="day06" />
</div>
</div>
<div class="sect2">
<h3 id="_day_06_rockstar"><a class="anchor" href="#_day_06_rockstar"></a><a class="link" href="#_day_06_rockstar">Day 06: rockstar</a></h3>
<div class="paragraph">
<p><span class="small">this documentation is autogenerated. Add a <code>README.adoc</code> to your solution to take over the control of this :-)</span></p>
</div>
<div class="sect3">
<h4 id="_rockstar_3"><a class="anchor" href="#_rockstar_3"></a><a class="link" href="#_rockstar_3">rockstar</a></h4>
<div class="listingblock">
<div class="title">input.txt</div>
<div class="content">
<pre class="prettyprint highlight"><code>4,3,4,5,2,1,1,5,5,3,3,1,5,1,4,2,2,3,1,5,1,4,1,2,3,4,1,4,1,5,2,1,1,3,3,5,1,1,1,1,4,5,1,2,1,2,1,1,1,5,3,3,1,1,1,1,2,4,2,1,2,3,2,5,3,5,3,1,5,4,5,4,4,4,1,1,2,1,3,1,1,4,2,1,2,1,2,5,4,2,4,2,2,4,2,2,5,1,2,1,2,1,4,4,4,3,2,1,2,4,3,5,1,1,3,4,2,3,3,5,3,1,4,1,1,1,1,2,3,2,1,1,5,5,1,5,2,1,4,4,4,3,2,2,1,2,1,5,1,4,4,1,1,4,1,4,2,4,3,1,4,1,4,2,1,5,1,1,1,3,2,4,1,1,4,1,4,3,1,5,3,3,3,4,1,1,3,1,3,4,1,4,5,1,4,1,2,2,1,3,3,5,3,2,5,1,1,5,1,5,1,4,4,3,1,5,5,2,2,4,1,1,2,1,2,1,4,3,5,5,2,3,4,1,4,2,4,4,1,4,1,1,4,2,4,1,2,1,1,1,1,1,1,3,1,3,3,1,1,1,1,3,2,3,5,4,2,4,3,1,5,3,1,1,1,2,1,4,4,5,1,5,1,1,1,2,2,4,1,4,5,2,4,5,2,2,2,5,4,4</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">precompute.rock</div>
<div class="content">
<pre class="prettyprint highlight"><code>(Compute for an initial number, the final number of fishes)
Aquarium Shop wants Nemo
Rock the aquarium with Nemo
Dory is carefree
Free is shabby
Errors are pufferfishs
The dirt is possibly disgusting
While the dirt ain't nothing
Knock the dirt down
Let the goal be the aquarium
The fishes are developing
While the fishes are smaller than the goal
If The aquarium at the fishes ain't nothing
Let the aquarium at the fishes be the aquarium at the fishes minus errors
Else
Let the aquarium at the fishes be free
Rock the aquarium with Dory

Build the fishes up


Give back the aquarium

(Precompute 1, 2, 3, 4, 5, possible values of the input)
Shop Preparation wants something
Rock the Shop
The owners are ready
While the owners ain't nothing
Put Aquarium Shop taking the owners into the shop at the owners
Knock the owners down

Give back the Shop

Put Shop Preparation taking nothing into Beautiful Aquarium
A brick is real hard
Cast a brick
Listen to the glass
Shatter the glass with a brick
Let sharks be the glass
Deb is damselfish
The characters are clownfishs
While Deb is weaker than sharks
Put the glass at Deb into the temp
Cast the temp
Let the characters be Beautiful Aquarium at the temp with the characters
Build Deb up

Say the characters</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">rock.py</div>
<div class="content">
<pre class="prettyprint highlight"><code># (After 16 iterations hashtable)
HashTable16 = [
    "50027",
    "61138",
    "0224",
    "1335",
    "2446",
    "3557",
    "4668",
    "507",
    "618"
]

file = open("input.txt", "r")
val_input = [int(num) for num in file.readline().split(",")]


def QuickChange(array):
    iter = []
    for val in array:
        # while len(array) &gt; 0:
        #    val = array.pop()
        iter.append(HashTable16[int(val)])
    iter = "".join(iter)
    return iter


def ShopPreparation(max=8):
    shop = [0]*(max+1)
    while max &gt;= 0:
        iteration = [max]
        iteration = QuickChange(iteration)
        iteration = QuickChange(iteration)
        iteration = QuickChange(iteration)
        iteration = QuickChange(iteration)
        iteration = QuickChange(iteration)
        iteration = QuickChange(iteration)
        iteration = QuickChange(iteration)
        iteration = QuickChange(iteration)
        shop[max] = iteration
        max = max - 1
    return shop


def Reflect(shop, max):
    final_hashtable = [0]*(max+1)
    while max &gt; 0:
        total = 0
        array = shop[max]
        for val in array:
            ival = int(val)
            total = total + len(shop[ival])

        final_hashtable[max] = total
        max = max - 1
    return final_hashtable


shop = ShopPreparation(8)
final_hashtable = Reflect(shop, 5)
total = 0
for val in val_input:
    total = total + final_hashtable[val]
print(total)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">naive.rock</div>
<div class="content">
<pre class="prettyprint highlight"><code>James Cameroun is some fool
Cast James Cameroun
Listen to the movie
The skill is possibly primordial
Shatter the movie with James Cameroun

While the skill ain't nothing
Knock the skill down
Let the actors be the movie
The realisator is convincing
While The realisator is weaker than the actors
If the movie at The realisator ain't nothing
Let the movie at The realisator be the movie at The realisator minus 1
Else
Let the movie at The realisator be 6
Rock the movie with 8

Build The realisator up


Say the movie</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">faster.rock</div>
<div class="content">
<pre class="prettyprint highlight"><code>Say "Hashtable for 16 iterations"
Rock Hashy with "50027", "61138", "0224", "1335", "2446", "3557", "4668", "507", "618"

(Do 16 iterations at once)
QuickChange wants the array
Rock Quickiter One
While the array ain't nothing
Roll the array into Val
If Hashy at Val is mysterious
Cast Val

Rock Quickiter One with Hashy at Val

Join Quickiter One
Shatter Quickiter One
Give back Quickiter One

Say "Precomputation up to 128"
(Precompute 0, 1, 2, 3, 4, 5, 6, 7, 8 possible values of the number)
the max is 8
Count is 0
Rock the taxes
Rock a reduction

While Count is not as great as the max plus 1
The iteration is nothing
Rock the iteration with 1
Roll the iteration
Roll the iteration
Rock the iteration with Count
Put QuickChange taking the iteration into the iteration
Put QuickChange taking the iteration into the iteration
Put QuickChange taking the iteration into the iteration
Put QuickChange taking the iteration into the iteration
Put QuickChange taking the iteration into the iteration
Put QuickChange taking the iteration into the iteration
Put QuickChange taking the iteration into the iteration
Put QuickChange taking the iteration into the iteration
Rock the taxes with the iteration
Build Count up



Say "Reflection from 128 to 256"
(Reflection for 1-5)
the reflection is 5
Rock Final Hashtable with 42
While the reflection is greater than nothing
The total is 0
Count is 0
Let Size be the taxes at the reflection of 1
Let Array be the taxes at the reflection
While Count is less than Size
Let Val be Array at Count
Cast Val
Let the total be the total with the taxes at Val of 1
Build Count up

Let Final Hashtable at the reflection be the total
Knock the reflection down


Say "Solving input..."
The comma is four four
Cast the comma
Final Result is 0
Listen to the problem
Shatter the problem with the comma
While the problem ain't nothing
Roll the problem into Val
Cast Val
Let Final Result be with Final Hashtable at Val

Say Final Result</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">readme.md</div>
<div class="content">
<pre class="prettyprint highlight"><code># Rockstar

There are multiple implementations, increasing speed for the very slow rockstar

## Naive implementation: naive.rock

The naive implementation is writting down the problem as it is exposed, with a list simulating all states at once, following the rules.

This provides the result in 2 minutes for the first step so few years for the second, with an horrible memory complexity (Playing with an array of 360k elements, dynamically pushing to it)

## Slightly optimized: precompute.rock

The slightly optimized solution is based out of the following two observations:
- All inputs are in the `[1-5]` range
- The result equals to the sum of the individual inputs

Therefore, we can precompute an array for each possible input, then simply sum the precomputed result, which executes in one second.

## Hashtable optimization: rock.py

While the naive implementation just works in Python, even the basic optimization is not enough for rockstar.
Starting from the slightly optimized, we are using those observations:
- All inputs are in the `[1-5]` range
- The result equals to the sum of the individual inputs
- The individual steps can be fast forwarded as a number will always give the same result N iterations later
- We can reach half of the problem then simply double the number of iteration without having the full memory complexity

The steps are:
- Make an hashtable for 16 iterations: "For each number, what would be the fish state after 16 iterations"
- Apply the hashtable 8 times over the input =&gt; Equivalent to 128 iterations
- Double the iterations (Reflect) by using the result at 128 iterations and computing the final size it would have, without doing the iterations

Additional optimization possible: We don't have to compute the hashtable for each iterations, we could simply compute it for the value 5, then value 4 is 5 + one iteration etc.

## Best method

The best method is to express mathematically the problem so you can precompute the contribution of each input without doing any iterations.

## Hashtable 16

| Input | Day for input 0 | Result after 16 days for input |
|-------|-----------------|--------------------------------|
|    | 0  | 0  |
|    | 1  | 68 |
|    | 2  | 57 |
|    | 3  | 46 |
|    | 4  | 35 |
|    | 5  | 24 |
|    | 6  | 13 |
|    | 7  | 02 |
| 8  | 8  | 618 |
| 7  | 9  | 507 |
| 6  | 10 | 4668 |
| 5  | 11 | 3557 |
| 4  | 12 | 2446 |
| 3  | 13 | 1335 |
| 2  | 14 | 0224 |
| 1  | 15 | 61138 |
| 0  | 16 | 50027 |</code></pre>
</div>
</div>
</div>
</div>
</div>
</div></p>

	</div>

</div>
<div id="push"></div>
</div>


    <div id="footer">
      <div class="container">
          <p class="muted credit">&copy; 2021 | Mixed with Bootstrap v3.1.1 | generated with <a href="https://doctoolchain.org">docToolchain</a> | Baked with JBake v2.6.4</p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="../../../js/bootstrap.min.js"></script>
    <script src="../../../js/prettify.js"></script>
    


</body>
</html>